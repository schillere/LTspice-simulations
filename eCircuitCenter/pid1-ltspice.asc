Version 4
SHEET 1 2576 2224
WIRE 752 -768 592 -768
WIRE 832 -768 752 -768
WIRE 592 -736 592 -768
WIRE 752 -736 752 -768
WIRE 544 -720 480 -720
WIRE 544 -624 544 -672
WIRE 592 -624 592 -656
WIRE 592 -624 544 -624
WIRE 752 -624 752 -656
WIRE 752 -624 592 -624
WIRE 592 -592 592 -624
WIRE 704 -464 592 -464
WIRE 800 -464 704 -464
WIRE 848 -464 800 -464
WIRE 1008 -464 960 -464
WIRE 1120 -464 1008 -464
WIRE 1216 -464 1168 -464
WIRE 1328 -464 1216 -464
WIRE 1424 -464 1376 -464
WIRE 1552 -464 1424 -464
WIRE 1696 -464 1632 -464
WIRE 1728 -464 1696 -464
WIRE 1776 -464 1728 -464
WIRE 1920 -464 1856 -464
WIRE 1952 -464 1920 -464
WIRE 2016 -464 1952 -464
WIRE 2048 -464 2016 -464
WIRE 960 -448 960 -464
WIRE 1168 -448 1168 -464
WIRE 1376 -448 1376 -464
WIRE 592 -432 592 -464
WIRE 704 -432 704 -464
WIRE 800 -432 800 -464
WIRE 1120 -432 1120 -464
WIRE 1328 -432 1328 -464
WIRE 1696 -432 1696 -464
WIRE 1920 -432 1920 -464
WIRE 160 -416 128 -416
WIRE 256 -416 160 -416
WIRE 368 -416 304 -416
WIRE 480 -416 480 -720
WIRE 480 -416 368 -416
WIRE 544 -416 480 -416
WIRE 128 -400 128 -416
WIRE 304 -384 304 -416
WIRE 256 -368 256 -416
WIRE 1120 -352 1120 -384
WIRE 1152 -352 1120 -352
WIRE 1168 -352 1168 -368
WIRE 1168 -352 1152 -352
WIRE 1328 -352 1328 -384
WIRE 1360 -352 1328 -352
WIRE 1376 -352 1376 -368
WIRE 1376 -352 1360 -352
WIRE 960 -336 960 -368
WIRE 1152 -336 1152 -352
WIRE 1360 -336 1360 -352
WIRE 1696 -336 1696 -368
WIRE 1920 -336 1920 -368
WIRE 544 -320 544 -368
WIRE 592 -320 592 -352
WIRE 592 -320 544 -320
WIRE 704 -320 704 -368
WIRE 704 -320 592 -320
WIRE 800 -320 800 -352
WIRE 800 -320 704 -320
WIRE 128 -304 128 -320
WIRE 592 -288 592 -320
WIRE 304 -256 304 -304
WIRE 768 -160 592 -160
WIRE 848 -160 768 -160
WIRE 592 -128 592 -160
WIRE 768 -128 768 -160
WIRE 480 -112 480 -416
WIRE 544 -112 480 -112
WIRE 544 -16 544 -64
WIRE 592 -16 592 -48
WIRE 592 -16 544 -16
WIRE 768 -16 768 -48
WIRE 768 -16 592 -16
WIRE 592 0 592 -16
WIRE 256 64 256 -320
WIRE 1440 64 256 64
WIRE 1504 64 1440 64
WIRE 1584 64 1504 64
WIRE 1776 64 1664 64
WIRE 1888 64 1776 64
WIRE 2016 64 2016 -464
WIRE 2016 64 1936 64
WIRE 1888 80 1888 64
WIRE 1504 96 1504 64
WIRE 1936 96 1936 64
WIRE 1888 176 1888 160
WIRE 1904 176 1888 176
WIRE 1936 176 1936 144
WIRE 1936 176 1904 176
WIRE 1504 192 1504 160
WIRE 1904 192 1904 176
FLAG 128 -304 0
FLAG 1424 -464 8
FLAG 1360 -336 0
FLAG 1696 -336 0
FLAG 1904 192 0
FLAG 304 -256 0
FLAG 160 -416 1
FLAG 368 -416 2
FLAG 1216 -464 7
FLAG 1152 -336 0
FLAG 1440 64 12
FLAG 848 -464 4
FLAG 592 -288 0
FLAG 848 -160 5
FLAG 592 0 0
FLAG 832 -768 3
FLAG 592 -592 0
FLAG 960 -336 0
FLAG 1504 192 0
FLAG 1728 -464 9
FLAG 1920 -336 0
FLAG 1952 -464 10
FLAG 1776 64 11
FLAG 1008 -464 6
SYMBOL voltage 128 -416 R0
WINDOW 123 26 92 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 30 33 Left 2
WINDOW 3 -61 -55 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName VSET
SYMATTR Value PWL(0s 0  1ms 10.0 )
SYMBOL e 1376 -464 R0
WINDOW 0 37 60 Left 2
WINDOW 3 42 99 Left 2
SYMATTR InstName EOUT
SYMATTR Value 100
SYMBOL res 1648 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RP1
SYMATTR Value 100k
SYMBOL cap 1680 -432 R0
SYMATTR InstName CP1
SYMATTR Value 1µF
SYMBOL res 1872 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RP2
SYMATTR Value 100k
SYMBOL e 1888 64 M0
WINDOW 0 40 43 Left 2
WINDOW 3 34 94 Left 2
SYMATTR InstName ESENSOR
SYMATTR Value 0.01
SYMBOL e 304 -400 R0
WINDOW 0 25 20 Left 2
WINDOW 3 26 91 Left 2
SYMATTR InstName EERROR
SYMATTR Value 1.0
SYMBOL e 1168 -464 R0
WINDOW 0 36 43 Left 2
WINDOW 3 37 92 Left 2
SYMATTR InstName EAMP
SYMATTR Value 1.0
SYMBOL cap 688 -432 R0
SYMATTR InstName C1
SYMATTR Value 1
SYMBOL ind 752 -144 R0
SYMATTR InstName L1
SYMATTR Value 1
SYMBOL bv 960 -464 R0
WINDOW 3 -58 186 Left 2
WINDOW 0 33 37 Left 2
SYMATTR Value V=(  Kp*v(3) + Ki*v(4)  + Kd*v(5)  )
SYMATTR InstName BPID
SYMBOL res 784 -448 R0
SYMATTR InstName R1
SYMATTR Value 1e6
SYMBOL res 1568 48 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RP3
SYMATTR Value 10k
SYMBOL cap 1520 96 M0
SYMATTR InstName CP3
SYMATTR Value 1µF
SYMBOL e 592 -752 R0
SYMATTR InstName EP
SYMATTR Value 1.0
SYMBOL g 592 -448 R0
SYMATTR InstName GI
SYMATTR Value 1.0
SYMBOL g 592 -144 R0
SYMATTR InstName GD
SYMATTR Value 1.0
SYMBOL cap 1904 -432 R0
SYMATTR InstName CP2
SYMATTR Value 1µF
SYMBOL res 736 -752 R0
SYMATTR InstName RP
SYMATTR Value 1e6
TEXT 1136 -944 Left 2 !.tran 10ms 2s
TEXT 1864 344 Left 2 ;( V / C )
TEXT 1112 -512 Left 2 ;POWER
TEXT 1256 -544 Left 2 ;PROCESS BLOCK\n(HEATER, MOTOR, ETC)
TEXT 1936 0 Right 2 ;SENSOR
TEXT 656 -512 Left 2 ;INTEGRATOR
TEXT 664 -208 Left 2 ;DIFFERENTIATOR
TEXT 640 -808 Left 2 ;PROPORTIONAL
TEXT 1104 -984 Left 2 ;PID CONTROLLER
TEXT 640 -856 Left 2 !.param Kp=1  Ki=0   Kd=0
TEXT 1624 -520 Left 2 ;PROCESS TIME-LAG
TEXT 112 -504 Left 2 ;SET POINT
TEXT 336 -504 Left 2 ;ERROR
TEXT 1400 -8 Left 2 ;SENSOR TIME-LAG
TEXT 920 -512 Left 2 ;PID SUM
TEXT 1968 -520 Left 2 ;OUTPUT
RECTANGLE Normal 1056 32 432 -832 1
